# =============================================================================
# Auth Service â€” Environment Configuration
# =============================================================================
# Copy this file to .env and fill in production values.
#   cp .env.example .env

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------
# MySQL connection URL: mysql://user:password@host:port/dbname
DATABASE_URL=mysql://auth_user:auth_pass@localhost:3306/auth_db

# Connection pool sizing (per uvicorn worker)
DB_POOL_MIN=5
DB_POOL_MAX=20

# -----------------------------------------------------------------------------
# JWT
# -----------------------------------------------------------------------------
# IMPORTANT: Generate a strong random secret for production.
#   python3 -c "import secrets; print(secrets.token_urlsafe(64))"
JWT_SECRET_KEY=CHANGE-ME-IN-PRODUCTION

# Algorithm for JWT signing
JWT_ALGORITHM=HS256

# Access token lifetime in minutes
ACCESS_TOKEN_EXPIRE_MINUTES=15

# Refresh token lifetime in days
REFRESH_TOKEN_EXPIRE_DAYS=30

# -----------------------------------------------------------------------------
# SMTP (email sending)
# -----------------------------------------------------------------------------
SMTP_HOST=localhost
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@example.com

# -----------------------------------------------------------------------------
# CORS
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins (empty = no CORS origins allowed)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# -----------------------------------------------------------------------------
# Argon2 password hashing parameters
# -----------------------------------------------------------------------------
# Tune these based on your hardware. Higher values = more secure but slower.
# See spec Section B for throughput calculations.
ARGON2_TIME_COST=2
ARGON2_MEMORY_COST=32768
ARGON2_PARALLELISM=1

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
APP_NAME=Auth Service
DEBUG=false

# Number of threads for password hashing (ThreadPoolExecutor workers)
PASSWORD_HASH_WORKERS=2

# Public-facing base URL (used in email links)
BASE_URL=http://localhost:8000
